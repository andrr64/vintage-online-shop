@startuml
!theme vibrant
title Use Case Diagram - User Journey

left to right direction

' --- Aktor ---
actor "User" as user

' --- Boundary Sistem ---
rectangle "Sistem E-commerce" {

' --- Paket Manajemen Akun (Fitur Wajib & Dasar) ---
package "Manajemen Akun" {
usecase "Register" as UC_REG
usecase "Login" as UC_LOGIN
usecase "Logout" as UC_LOGOUT
usecase "Manage Account" as UC_ACC
usecase "Update Profile" as UC_ACC_PROFILE
note right of UC_ACC_PROFILE : username, fullname
usecase "Change Password" as UC_ACC_PASS
}

' --- Paket Aktivitas Belanja (Improvisasi berdasarkan ERD) ---
package "Aktivitas Belanja" {
usecase "Browse & Search Products" as UC_BROWSE
usecase "View Product Details" as UC_VIEW_DETAIL
usecase "Manage Cart" as UC_CART
usecase "Manage Wishlist" as UC_WISHLIST
usecase "Checkout" as UC_CHECKOUT
usecase "View Order History" as UC_HISTORY
usecase "Manage Addresses" as UC_ADDRESS
}
}

' --- Relasi Aktor ke Use Case ---
user --> UC_REG
user --> UC_LOGIN
user --> UC_LOGOUT
user --> UC_ACC
user --> UC_BROWSE
user --> UC_CART
user --> UC_WISHLIST
user --> UC_CHECKOUT
user --> UC_HISTORY
user --> UC_ADDRESS

' --- Relasi Antar Use Case ---
' Generalisasi: Aksi yang lebih spesifik dari sebuah use case umum.
UC_ACC_PROFILE --|> UC_ACC
UC_ACC_PASS --|> UC_ACC

' Ketergantungan (Include): Use case dasar tidak lengkap tanpa use case ini (wajib).
UC_ACC .> UC_LOGIN : <<include>>
UC_CART .> UC_LOGIN : <<include>>
UC_WISHLIST .> UC_LOGIN : <<include>>
UC_CHECKOUT .> UC_LOGIN : <<include>>
UC_HISTORY .> UC_LOGIN : <<include>>
UC_ADDRESS .> UC_LOGIN : <<include>>
UC_CHECKOUT .> UC_ADDRESS : <<include>> ' Checkout wajib menyertakan proses penanganan alamat.

' Ekstensi (Extend): Fungsionalitas opsional yang bisa dipicu dari use case lain.
(View Product Details) .> (Browse & Search Products) : <<extend>> ' Saat browsing, user bisa memilih untuk melihat detail produk.
(Manage Cart) .> (View Product Details) : <<extend>> ' Dari halaman detail, user bisa menambahkan item ke keranjang.
(Manage Wishlist) .> (View Product Details) : <<extend>> ' Dari halaman detail, user bisa menambahkan item ke wishlist.

@enduml