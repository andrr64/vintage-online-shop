@startuml
!theme vibrant
title Use Case Diagram - API Endpoints Sesuai Use Case

left to right direction

' --- Aktor ---
actor "Client / Frontend" as client

' --- Boundary Sistem ---
rectangle "Manajemen Akun(/user)" {

' --- Paket Manajemen Akun ---
package "Manajemen Akun" {
usecase "Register\nPOST /user/register" as API_REG
usecase "Login\nPOST /user/login" as API_LOGIN
usecase "Logout\nPOST /user/logout" as API_LOGOUT
usecase "Manage Account\nGET /user/account" as API_ACC
usecase "Update Profile\nPUT /user/account/profile" as API_ACC_PROFILE
note right of API_ACC_PROFILE : username, fullname
usecase "Change Password\nPUT /user/account/password" as API_ACC_PASS
}

}

rectangle "Fitur (/shop)" {
' --- Paket Aktivitas Belanja ---
package "Aktivitas Belanja" {
usecase "Browse & Search Products\nGET /products" as API_BROWSE
usecase "View Product Details\nGET /products/{id}" as API_VIEW_DETAIL
usecase "Manage Cart\nPOST/PUT/DELETE /cart" as API_CART
usecase "Manage Wishlist\nPOST/DELETE /wishlist" as API_WISHLIST
usecase "Checkout\nPOST /checkout" as API_CHECKOUT
usecase "View Order History\nGET /orders" as API_HISTORY
usecase "Manage Addresses\nGET/POST/PUT/DELETE /addresses" as API_ADDRESS
}
}

' --- Relasi Aktor ke Use Case ---
client --> API_REG
client --> API_LOGIN
client --> API_LOGOUT
client --> API_ACC
client --> API_ACC_PROFILE
client --> API_ACC_PASS
client --> API_BROWSE
client --> API_VIEW_DETAIL
client --> API_CART
client --> API_WISHLIST
client --> API_CHECKOUT
client --> API_HISTORY
client --> API_ADDRESS

' --- Relasi Antar Use Case ---
API_ACC_PROFILE --|> API_ACC
API_ACC_PASS --|> API_ACC

' Include: wajib login
API_ACC .> API_LOGIN : <<include>>
API_ACC_PROFILE .> API_LOGIN : <<include>>
API_ACC_PASS .> API_LOGIN : <<include>>
API_LOGOUT .> API_LOGIN : <<include>>
API_CART .> API_LOGIN : <<include>>
API_WISHLIST .> API_LOGIN : <<include>>
API_CHECKOUT .> API_LOGIN : <<include>>
API_HISTORY .> API_LOGIN : <<include>>
API_ADDRESS .> API_LOGIN : <<include>>
API_CHECKOUT .> API_ADDRESS : <<include>>

' Extend: opsional
API_VIEW_DETAIL .> API_BROWSE : <<extend>>
API_CART .> API_VIEW_DETAIL : <<extend>>
API_WISHLIST .> API_VIEW_DETAIL : <<extend>>

@enduml
